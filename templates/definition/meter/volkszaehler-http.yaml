template: volkszaehler-http
products:
  - brand: Volksz√§hler
    description:
      generic: HTTP API
group: generic
params:
  - name: usage
    choice: ["grid"]
  - name: host
  - name: port
    default: 80
  - name: urlprefix
    default: /api/
    description:
      de: URL-Teil vor data
      en: part of URL before data
    help:
      de: Wenn die volkszaehler Installation nicht in dem Standard  /api Pfad arbeitet, muss dies angepasst werden
      en: If the volkszaehler installation not in the standard /api path works, this must be adjusted
    advanced: true
  - name: uuid
    required: true
render: |
  type: custom
  power: # power reading
    source: http # use http plugin
    uri: http://{{ .host }}:{{ .port }}{{ .urlprefix }}data/{{ .uuid }}.json?from=now
    jq: .data.tuples[0][1] # parse response json
