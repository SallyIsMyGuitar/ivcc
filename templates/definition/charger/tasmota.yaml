template: tasmota
products:
  - description:
      generic: Tasmota
group: switchsockets
params:
  - name: host
    required: true
    example: 192.0.2.2
  - name: user
  - name: password
    mask: true
  - name: standbypower
    default: 15
render: |
  type: tasmota
  uri: http://{{ .host }}  # shelly device ip address (local)
  {{ if ne .user "" }}
  user: {{ .user }}
  {{ end }}
  {{ if ne .password "" }}
  password: {{ .password }}
  {{ end }}
  standbypower: {{ .standbypower }}  # treat as charging above this power
