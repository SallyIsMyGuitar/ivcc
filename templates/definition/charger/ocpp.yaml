template: ocpp
products:
  - description:
      de: OCPP v1.6 kompatible Wallbox
      en: OCPP v1.6 compatible Wallbox
group: generic
requirements:
  description:
    de: |
      Vorraussetzungen vor der Verbindung mit EVCC:
      * löschen von zu vor konfigurierte Ladeprofile (z.B. durch ein anderes Backend)
      
      Zur Verbindung mit EVCC muss in der Wallbox `ws://{evcc.ip}:8887/` als Backend eingetragen werden. 

      // TODO

    en: |
      Requirements befor connecting to EVCC:
      * delete prior configured load profiles (e.g. from another backend)
      
      To connnect the wallbox with EVCC `ws://{evcc.ip}:8887/` as to be provided as a backend address.

      // TODO

params:
  - name: stationid
    required: true
    help:
      en: The chargepoint ID to uniquly identifiy the station (a random value) e.g. EVB-P12354
      de: Die Ladepunkt ID für die eindeutige identifizierung der Wallbox (ein belibiger Wert) e.g. EVB-P12354
  - name: connector
    default: 1
    valuetype: int
    help:
      en: Used chargepoint, usualy 1 for one connector.
      de: Verwendeter Verbindungspunkt, normalerweise 1 bei einem Anschluss.
  - name: meterSupported
    default: false
    valuetype: bool
    help:
      en: Use of the integrated meter (if present)
      de: Verwendung des integrierten Zählers (falls vorhanden)
  - name: idtag
    valuetype: string
    help:
      en: RFID token used for transactions (currently no authorization implemented) e.g. 04E6B78921BBA0
      de: ID des Tokens, welcher für Ladevorgänge genutzt werden soll (aktuell keine Authorizierung umgesetzt) e.g 04E6B78921BBA0
render: |
  type: ocpp
  stationid: {{ .stationid }}
  {{ if ne .idtag }}idtag: {{ .idtag }}{{ end }}
  connector: {{ .connector }}
  meterSupported: {{ .meterSupported }}

# TODO: switch to this config when implementation supports authorization
# {{ if ne .rfid "" }}    
# rfid:
#   tag: {{ .rfid }}
# {{ end }}

