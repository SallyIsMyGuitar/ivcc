template: offline
products:
  - description:
      generic: Offline
group: generic
params:
  - name: title
  - name: icon
    default: car
    advanced: true
  - name: capacity
  - name: phases
    advanced: true
  - name: mode
    advanced: true
  - name: minCurrent
    advanced: true
  - name: maxCurrent
    advanced: true
  - name: identifiers
    advanced: true
    type: stringlist
  - name: minSoc
    advanced: true
    help:
      de: Ladung mit maximaler Geschwindigkeit bis zu dem angegeben Ladestand unabhängig PV-Erzeugung, wenn der Lademodus nicht auf 'Aus' steht. Nur unterstützt wenn das EV den SoC an die verbundene EVSE übermitteln kann!
      en: Immediate charging with maximum power up to the defined state of charge independently from solar production if the charge mode is not set to 'OFF'. Only supported if the EV can provided the SoC to the connected EVSE!
  - name: targetSoc
    advanced: true
    help:
      de: Bis zu welchem Ladestand (Soc) soll das Fahrzeug geladen werden. Nur unterstützt wenn das EV den SoC an die verbundene EVSE übermitteln kann!
      en: Until which state of charge (Soc) should the vehicle be charged. Only supported if the EV can provided the SoC to the connected EVSE!
render: |
  type: custom
  features: ["offline"]
  {{- if .title }}
  title: {{ .title }}
  {{- end }}
  {{- if ne .icon "" }}
  icon: {{ .icon }}
  {{- end }}
  capacity: {{ .capacity }} # kWh
  {{- if .phases }}
  phases: {{ .phases }}
  {{- end }}
  soc: # fixed - no Soc available
    source: js
    script: 0;
  onIdentify:
  {{- if (ne .mode "") }}
    mode: {{ .mode }}
  {{- end }}
  {{- if (ne .minSoc "") }}
    minSoc: {{ .minSoc }}
  {{- else }}
    minSoc: 0 # fixed - no Soc available
  {{- end }}
  {{- if (ne .targetSoc "") }}
    targetSoc: {{ .targetSoc }}
  {{- else }}
    targetSoc: 100 # fixed - no Soc available
  {{- end }}
  {{- if (ne .minCurrent "") }}
    minCurrent: {{ .minCurrent }}
  {{- end }}
  {{- if (ne .maxCurrent "") }}
    maxCurrent: {{ .maxCurrent }}
  {{- end }}
  {{- if ne (len .identifiers) 0 }}
  identifiers:
  {{-   range .identifiers }}
  - {{ . }}
  {{-   end }}
  {{- end }}
