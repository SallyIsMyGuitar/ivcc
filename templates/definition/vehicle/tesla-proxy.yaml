template: tesla-proxy
products:
  - brand: Tesla
    description:
      de: 端ber evcc Proxy
      en: via evcc Proxy
requirements:
  description:
    de: |
      Kommunikation mit Tesla API 端ber einen evcc Proxy-Server.
      Erforderlich f端r Steuerung am Tesla Wall Connector.

      Generiere ein `access` und ein `refresh` Token und richte den **Virtual Key** 端ber die Tesla App ein, um die Fahrzeugsteuerung zu aktivieren.
      Siehe https://tesla.evcc.io.
    en: |
      Communication with Tesla API via an evcc proxy server.
      Required for control at Tesla Wall Connector.

      Generate an `access` and a `refresh` token and setup the **Virtual Key** via the Tesla app to enable vehicle control.
      See https://tesla.evcc.io.
  evcc: ["sponsorship"]
params:
  - name: title
  - name: icon
    default: car
    advanced: true
  - name: accessToken
    required: true
    mask: true
  - name: refreshToken
    required: true
    mask: true
  - name: vin
    example: W...
  - name: capacity
  - name: phases
    advanced: true
  - preset: vehicle-identify
render: |
  type: tesla-proxy
  title: {{ .title }}
  icon: {{ .icon }}
  tokens:
    access: {{ .accessToken }}
    refresh: {{ .refreshToken }}
  capacity: {{ .capacity }}
  phases: {{ .phases }}
  vin: {{ .vin }}
  {{ include "vehicle-identify" . }}
  features: ["coarsecurrent"]
